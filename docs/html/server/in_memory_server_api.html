<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>server.in_memory_server_api API documentation</title>
<meta name="description" content="API implementation for interacting with an in-memory data store â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>server.in_memory_server_api</code></h1>
</header>
<section id="section-intro">
<p>API implementation for interacting with an in-memory data store.</p>
<p>See server/server_api_command_line.py for a sample script that
exercises this class. Also see server/server_api.py for full
documentation on the ServerAPI.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
&#34;&#34;&#34;API implementation for interacting with an in-memory data store.

See server/server_api_command_line.py for a sample script that
exercises this class. Also see server/server_api.py for full
documentation on the ServerAPI.
&#34;&#34;&#34;

import datetime
import logging
import pprint
import sys
import time

from os.path import dirname, realpath
sys.path.append(dirname(dirname(realpath(__file__))))

from server.server_api import ServerAPI  # noqa: E402

DEFAULT_MAX_TRIES = 3
ID_SEPARATOR = &#39;:&#39;

################################################################################


class InMemoryServerAPI(ServerAPI):
    ############################
    def __init__(self):
        super().__init__()
        self.config = {}
        self.mode = &#34;n/a&#34;
        self.logger_config = {}
        self.callbacks = []
        self.status = []
        self.server_messages = []

    #############################
    # API methods below are used in querying/modifying the API for the
    # record of the running state of loggers.
    ############################
    # def get_cruises(self):
    #   &#34;&#34;&#34;Return list of cruise id&#39;s.&#34;&#34;&#34;
    #   return list(self.cruise_configs)

    ############################
    def get_configuration(self):
        &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
        return self.config or None

    ############################
    def get_modes(self):
        &#34;&#34;&#34;Return list of modes defined for given cruise.&#34;&#34;&#34;
        return list(self.config.get(&#39;modes&#39;, []))

    ############################
    def get_active_mode(self):
        &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
        return self.config.get(&#39;active_mode&#39;, None)

    ############################
    def get_default_mode(self):
        &#34;&#34;&#34;Get the name of the default mode for the specified cruise
        from the data store.&#34;&#34;&#34;
        return self.config.get(&#39;default_mode&#39;, None)

    ############################
    def get_logger(self, logger):
        &#34;&#34;&#34;Retrieve the logger spec for the specified logger id.&#34;&#34;&#34;
        loggers = self.get_loggers()
        if logger not in loggers:
            raise ValueError(&#39;No logger &#34;%s&#34; found&#39; %
                             (logger))
        return loggers.get(logger)

    ############################
    def get_loggers(self):
        &#34;&#34;&#34;Get a dict of
            {logger_id:{&#39;configs&#39;:[&lt;name_1&gt;,&lt;name_2&gt;,...], &#39;active&#39;:&lt;name&gt;},...}
        for all loggers.
        &#34;&#34;&#34;
        config = self.get_configuration()
        if not config:
            return {}

        if &#39;loggers&#39; not in config:
            raise ValueError(&#39;No loggers found&#39;)
        logger_configs = config.get(&#39;loggers&#39;, None)
        if not logger_configs:
            raise ValueError(&#39;No logger configurations found&#39;)

        # Fetch and insert the currently active config for each logger
        for logger in logger_configs:
            logger_configs[logger][&#39;active&#39;] = self.get_logger_config_name(logger)
        return logger_configs

    ############################
    def get_logger_config(self, config_name):
        &#34;&#34;&#34;Retrieve the config associated with the specified name.&#34;&#34;&#34;
        cruise_config = self.get_configuration()
        if cruise_config is None:
            return {}
        logger_configs = cruise_config.get(&#39;configs&#39;, None)
        if logger_configs is None:
            raise ValueError(&#39;No &#34;config&#34; found&#39;)
        logger_config = logger_configs.get(config_name, None)
        if logger_config is None:
            raise ValueError(&#39;No logger config &#34;%s&#34; in config&#39; % config_name)
        return logger_config

    ############################
    def get_logger_configs(self, mode=None):
        &#34;&#34;&#34;Retrieve the configs associated with a cruise id and mode from the
        data store. If mode is omitted, retrieve configs associated with
        the cruise&#39;s current logger configs.&#34;&#34;&#34;
        loggers = self.get_loggers()
        if not loggers:
            return None

        output = {}
        for logger in loggers:
            logger_config_name = self.get_logger_config_name(logger, mode)
            output[logger] = self.get_logger_config(logger_config_name)

        return output

    ############################
    def get_logger_config_name(self, logger_id, mode=None):
        &#34;&#34;&#34;Retrieve name of the config associated with the specified logger
        in the specified mode. If mode is omitted, retrieve name of logger&#39;s
        current config.&#34;&#34;&#34;

        if not self.config:
            raise ValueError(&#39;No configuration loaded&#39;)

        # If mode is not specified, get logger&#39;s current config name
        if mode is None:
            config_name = self.logger_config.get(logger_id, None)
            if config_name is None:
                raise ValueError(f&#39;Logger id &#34;{logger_id}&#34; has no mode!&#39;)
            return config_name

        # Otherwise, we return the config_name for the specifed mode
        modes = self.config.get(&#39;modes&#39;)
        mode_configs = modes.get(mode, None)
        if mode_configs is None:
            raise ValueError(&#39;Requested mode %s is not defined (modes are: %s)&#39; %
                             (mode, [m for m in modes]))
        logger_config_name = mode_configs.get(logger_id, None)
        if logger_config_name is None:
            raise ValueError(&#39;Logger %s has no config defined in mode %s&#39; %
                             (logger_id, mode))
        return logger_config_name

    #############################
    def get_logger_config_names(self, logger_id):
        &#34;&#34;&#34;Retrieve list of config names that are valid for the specified logger .
        &gt; api.get_logger_config_names(&#39;NBP1406&#39;, &#39;knud&#39;)
              [&#34;off&#34;, &#34;knud-&gt;net&#34;, &#34;knud-&gt;net/file&#34;, &#34;knud-&gt;net/file/db&#34;]
        &#34;&#34;&#34;
        logger = self.get_logger(logger_id)
        return logger.get(&#39;configs&#39;, [])

    ############################
    # Methods for manipulating the desired state via API to indicate
    # current mode and which loggers should be in which configs.
    ############################
    def set_active_mode(self, mode):
        &#34;&#34;&#34;Set the current mode of the specified cruise in the data store.&#34;&#34;&#34;
        modes = self.config.get(&#39;modes&#39;, None)
        if not modes:
            raise ValueError(&#39;Config has no modes??&#39;)
        if mode not in modes:
            raise ValueError(&#39;Config has no mode &#34;%s&#34;&#39; % (mode))

        self.config[&#39;active_mode&#39;] = mode

        # Update the stored {logger:config_name} dict to match new mode
        # Here&#39;s a quick one-liner that doesn&#39;t do any checking:
        self.logger_config = modes[mode].copy()

        # Here&#39;s s slow carefully-checked way of setting configs:
        # for logger, config in modes[mode].items():
        #  self.set_logger_config_name(cruise_id, logger, config)

        # Q: At this point should we could signal an update. Or we could
        # count on the API calling signal_update(). Or count on the update
        # being picked up by polling. For now, don&#39;t signal the update.

        logging.info(&#39;Signaling update&#39;)
        self.signal_update()

    ############################
    def set_active_logger_config(self, logger, config_name):
        &#34;&#34;&#34;Set specified logger to new config. NOTE: we have no way to check
        whether logger is compatible with config, so we rely on whoever is
        calling us to have made that determination.&#34;&#34;&#34;
        # if not cruise_id in self.logger_config:
        #   self.logger_config[cruise_id] = {}
        self.logger_config[logger] = config_name

        logging.info(&#39;Signaling update&#39;)
        self.signal_update()

    ############################
    # Methods for feeding data from LoggerServer back into the API
    ############################
    def update_status(self, status):
        &#34;&#34;&#34;Save/register the loggers&#39; retrieved status report with the API.&#34;&#34;&#34;
        self.status.append((time.time(), status))

    ############################
    # Methods for getting status data from API
    ############################

    def get_status(self, since_timestamp=None):
        &#34;&#34;&#34;Retrieve a dict of the most-recent status report from each
        logger. If since_timestamp is specified, retrieve all status reports
        since that time.&#34;&#34;&#34;

        # Start by getting set of loggers for cruise. Store as
        # cruise_id:logger for ease of lookup.
        try:
            logger_set = set([logger
                              for logger in self.get_loggers()])
        except ValueError:
            logger_set = set()

        logging.debug(&#39;logger_set: %s&#39;, logger_set)

        # Step backwards through status messages until we run out of
        # status messages or reach termination condition. If
        # since_timestamp==None, our termination is when we have a status
        # for each of our loggers. If since_timestamp is a number, our
        # termination is when we&#39;ve grabbed all the statuses with a
        # timestamp greater than the specified number.
        status = {}

        status_index = len(self.status) - 1
        logging.debug(&#39;starting at status index %d&#39;, status_index)
        while logger_set and status_index &gt;= 0:
            # record is a dict of &#39;cruise_id:logger&#39; : {fields}
            (timestamp, record) = self.status[status_index]
            logging.debug(&#39;%d: %f: %s&#39;, status_index, timestamp, pprint.pformat(record))

            # If we&#39;ve been given a numeric timestamp and we&#39;ve stepped back
            # in time to or before that timestamp, we&#39;re done - break out.
            if since_timestamp is not None and timestamp &lt;= since_timestamp:
                break

            # Otherwise, examine ids in this record to see if they&#39;re for
            # the cruise in question.
            for id, fields in record.items():
                # If id is cruise_id:logger that we&#39;re interested in, grab it.
                logging.debug(&#39;Is %s in %s?&#39;, id, logger_set)
                if id in logger_set:
                    if timestamp not in status:
                        status[timestamp] = {}
                    status[timestamp][id] = fields

                    # If since_timestamp==None, we only want the latest status
                    # for each logger. So once we&#39;ve found it, remove the id
                    # from the logger_set we&#39;re lookings. We&#39;ll drop out of the
                    # loop when the set is empty.
                    if since_timestamp is None:
                        logger_set.discard(id)
            status_index -= 1

        return status

    ############################
    # Methods for storing/retrieving messages from servers/loggers/etc.
    ############################
    def message_log(self, source, user, log_level, message):
        &#34;&#34;&#34;Timestamp and store the passed message.&#34;&#34;&#34;
        self.server_messages.append((time.time(), source, user,
                                     log_level, message))

    ############################
    def get_message_log(self, source=None, user=None, log_level=sys.maxsize,
                        since_timestamp=None):
        &#34;&#34;&#34;Retrieve log messages from source at or above log_level since
        timestamp. If source is omitted, retrieve from all sources. If
        log_level is omitted, retrieve at all levels. If since_timestamp is
        omitted, only retrieve most recent message.
        &#34;&#34;&#34;
        index = len(self.server_messages) - 1
        messages = []
        while index &gt;= 0:
            message = self.server_messages[index]
            (timestamp, mesg_source, mesg_user,
             mesg_log_level, mesg_message) = message
            # Have we gone back too far? If so, we&#39;re done.
            if since_timestamp is not None and timestamp &lt;= since_timestamp:
                break

            if mesg_log_level &lt; log_level:
                continue
            if user and not mesg_user == user:
                continue
            if source and not mesg_source == source:
                continue

            messages.insert(0, message)

            # Are we only looking for last message, and do we have a message?
            if since_timestamp is None and messages:
                break
            index -= 1

        return messages

    #############################
    # Methods to modify the data store
    ############################
    def load_configuration(self, config):
        &#34;&#34;&#34;Add a complete cruise configuration (id, modes, configs,
        default) to the data store.&#34;&#34;&#34;
        self.config = config
        self.config[&#39;loaded_time&#39;] = datetime.datetime.utcnow()

        # Set cruise into default mode, if one is defined
        if &#39;default_mode&#39; in config:
            active_mode = config[&#39;default_mode&#39;]
            self.set_active_mode(active_mode)

        # Let anyone who&#39;s interested know that we&#39;ve got new configurations.
        self.signal_load()

    ############################
    def delete_configuration(self):
        &#34;&#34;&#34;Remove the specified cruise from the data store.&#34;&#34;&#34;
        self.config = {}
        self.mode = &#34;n/a&#34;
        self.logger_config = {}
        self.callbacks = []
        self.status = []

    ############################
    # Methods for manually constructing/modifying a cruise spec via API
    # def add_cruise(self, cruise_id, start=None, end=None)
    # def add_mode(self, cruise_id, mode)
    # def delete_mode(self, cruise_id, mode)
    # def add_logger(self, cruise_id, logger_id, logger_spec)
    # def delete_logger(self, cruise_id, logger_id)
    # def add_config(self, cruise_id, config, config_spec)
    # def add_config_to_logger(self, cruise_id, config, logger_id)
    # def add_config_to_mode(self, cruise_id, config, logger_id, mode)
    # def delete_config(self, cruise_id, config_id)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="server.in_memory_server_api.InMemoryServerAPI"><code class="flex name class">
<span>class <span class="ident">InMemoryServerAPI</span></span>
</code></dt>
<dd>
<div class="desc"><p>Abstract base class defining an API through which a LoggerServer
can interact with a data store.</p>
<p>Parameters below have the following semantics:</p>
<pre><code>configuration - dict definition of a OpenRVDAS configuration
mode          - dict name of mode, and logger_config_names associated with that mode
default_mode  - name of mode to use at startup or when returning to a default state

logger_config_name - string name of a logger configuration, unique within configration
logger_config - dict definition of a logger configuration

logger_id     - string name of logger, unique within cruise
logger        - dict definition of logger, including list of names of
                valid configs and optional host restriction

logger_configs - dict of {logger_config_name:logger_config,...}
</code></pre>
<p>For the purposes of documentation below, assume a sample
cruise_config as follows:</p>
<pre><code>{
  &quot;loggers&quot;: {
    &quot;knud&quot;: {
      &quot;host&quot;: &quot;knud.pi&quot;,
      &quot;configs&quot;: [&quot;off&quot;, &quot;knud-&gt;net&quot;, &quot;knud-&gt;file/net/db&quot;]
    },
    &quot;gyr1&quot;: {
      &quot;configs&quot;: [&quot;off&quot;, &quot;gyr1-&gt;net&quot;, &quot;gyr1-&gt;file/net/db&quot;]
    },
  &quot;modes&quot;: {
    &quot;off&quot;: {&quot;knud&quot;: &quot;off&quot;, &quot;gyr1&quot;: &quot;off&quot;},
    &quot;port&quot;: {&quot;knud&quot;: &quot;off&quot;, &quot;gyr1&quot;: &quot;gyr1-&gt;net&quot;},
    &quot;underway&quot;: { &quot;knud&quot;: &quot;knud-&gt;file/net/db&quot;,
                  &quot;gyr1&quot;: &quot;gyr1-&gt;file/net/db&quot;
                }
  },
  &quot;default_mode&quot;: &quot;off&quot;,
  &quot;configs&quot;: {
    &quot;off&quot;: {},
    &quot;knud-&gt;net&quot;: { config_spec },
    &quot;knud-&gt;file/net/db&quot;: { config_spec },
    &quot;gyr1-&gt;net&quot;: { config_spec },
    &quot;gyr1-&gt;file/net/dbnet&quot;: { config_spec }
  }
}
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class InMemoryServerAPI(ServerAPI):
    ############################
    def __init__(self):
        super().__init__()
        self.config = {}
        self.mode = &#34;n/a&#34;
        self.logger_config = {}
        self.callbacks = []
        self.status = []
        self.server_messages = []

    #############################
    # API methods below are used in querying/modifying the API for the
    # record of the running state of loggers.
    ############################
    # def get_cruises(self):
    #   &#34;&#34;&#34;Return list of cruise id&#39;s.&#34;&#34;&#34;
    #   return list(self.cruise_configs)

    ############################
    def get_configuration(self):
        &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
        return self.config or None

    ############################
    def get_modes(self):
        &#34;&#34;&#34;Return list of modes defined for given cruise.&#34;&#34;&#34;
        return list(self.config.get(&#39;modes&#39;, []))

    ############################
    def get_active_mode(self):
        &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
        return self.config.get(&#39;active_mode&#39;, None)

    ############################
    def get_default_mode(self):
        &#34;&#34;&#34;Get the name of the default mode for the specified cruise
        from the data store.&#34;&#34;&#34;
        return self.config.get(&#39;default_mode&#39;, None)

    ############################
    def get_logger(self, logger):
        &#34;&#34;&#34;Retrieve the logger spec for the specified logger id.&#34;&#34;&#34;
        loggers = self.get_loggers()
        if logger not in loggers:
            raise ValueError(&#39;No logger &#34;%s&#34; found&#39; %
                             (logger))
        return loggers.get(logger)

    ############################
    def get_loggers(self):
        &#34;&#34;&#34;Get a dict of
            {logger_id:{&#39;configs&#39;:[&lt;name_1&gt;,&lt;name_2&gt;,...], &#39;active&#39;:&lt;name&gt;},...}
        for all loggers.
        &#34;&#34;&#34;
        config = self.get_configuration()
        if not config:
            return {}

        if &#39;loggers&#39; not in config:
            raise ValueError(&#39;No loggers found&#39;)
        logger_configs = config.get(&#39;loggers&#39;, None)
        if not logger_configs:
            raise ValueError(&#39;No logger configurations found&#39;)

        # Fetch and insert the currently active config for each logger
        for logger in logger_configs:
            logger_configs[logger][&#39;active&#39;] = self.get_logger_config_name(logger)
        return logger_configs

    ############################
    def get_logger_config(self, config_name):
        &#34;&#34;&#34;Retrieve the config associated with the specified name.&#34;&#34;&#34;
        cruise_config = self.get_configuration()
        if cruise_config is None:
            return {}
        logger_configs = cruise_config.get(&#39;configs&#39;, None)
        if logger_configs is None:
            raise ValueError(&#39;No &#34;config&#34; found&#39;)
        logger_config = logger_configs.get(config_name, None)
        if logger_config is None:
            raise ValueError(&#39;No logger config &#34;%s&#34; in config&#39; % config_name)
        return logger_config

    ############################
    def get_logger_configs(self, mode=None):
        &#34;&#34;&#34;Retrieve the configs associated with a cruise id and mode from the
        data store. If mode is omitted, retrieve configs associated with
        the cruise&#39;s current logger configs.&#34;&#34;&#34;
        loggers = self.get_loggers()
        if not loggers:
            return None

        output = {}
        for logger in loggers:
            logger_config_name = self.get_logger_config_name(logger, mode)
            output[logger] = self.get_logger_config(logger_config_name)

        return output

    ############################
    def get_logger_config_name(self, logger_id, mode=None):
        &#34;&#34;&#34;Retrieve name of the config associated with the specified logger
        in the specified mode. If mode is omitted, retrieve name of logger&#39;s
        current config.&#34;&#34;&#34;

        if not self.config:
            raise ValueError(&#39;No configuration loaded&#39;)

        # If mode is not specified, get logger&#39;s current config name
        if mode is None:
            config_name = self.logger_config.get(logger_id, None)
            if config_name is None:
                raise ValueError(f&#39;Logger id &#34;{logger_id}&#34; has no mode!&#39;)
            return config_name

        # Otherwise, we return the config_name for the specifed mode
        modes = self.config.get(&#39;modes&#39;)
        mode_configs = modes.get(mode, None)
        if mode_configs is None:
            raise ValueError(&#39;Requested mode %s is not defined (modes are: %s)&#39; %
                             (mode, [m for m in modes]))
        logger_config_name = mode_configs.get(logger_id, None)
        if logger_config_name is None:
            raise ValueError(&#39;Logger %s has no config defined in mode %s&#39; %
                             (logger_id, mode))
        return logger_config_name

    #############################
    def get_logger_config_names(self, logger_id):
        &#34;&#34;&#34;Retrieve list of config names that are valid for the specified logger .
        &gt; api.get_logger_config_names(&#39;NBP1406&#39;, &#39;knud&#39;)
              [&#34;off&#34;, &#34;knud-&gt;net&#34;, &#34;knud-&gt;net/file&#34;, &#34;knud-&gt;net/file/db&#34;]
        &#34;&#34;&#34;
        logger = self.get_logger(logger_id)
        return logger.get(&#39;configs&#39;, [])

    ############################
    # Methods for manipulating the desired state via API to indicate
    # current mode and which loggers should be in which configs.
    ############################
    def set_active_mode(self, mode):
        &#34;&#34;&#34;Set the current mode of the specified cruise in the data store.&#34;&#34;&#34;
        modes = self.config.get(&#39;modes&#39;, None)
        if not modes:
            raise ValueError(&#39;Config has no modes??&#39;)
        if mode not in modes:
            raise ValueError(&#39;Config has no mode &#34;%s&#34;&#39; % (mode))

        self.config[&#39;active_mode&#39;] = mode

        # Update the stored {logger:config_name} dict to match new mode
        # Here&#39;s a quick one-liner that doesn&#39;t do any checking:
        self.logger_config = modes[mode].copy()

        # Here&#39;s s slow carefully-checked way of setting configs:
        # for logger, config in modes[mode].items():
        #  self.set_logger_config_name(cruise_id, logger, config)

        # Q: At this point should we could signal an update. Or we could
        # count on the API calling signal_update(). Or count on the update
        # being picked up by polling. For now, don&#39;t signal the update.

        logging.info(&#39;Signaling update&#39;)
        self.signal_update()

    ############################
    def set_active_logger_config(self, logger, config_name):
        &#34;&#34;&#34;Set specified logger to new config. NOTE: we have no way to check
        whether logger is compatible with config, so we rely on whoever is
        calling us to have made that determination.&#34;&#34;&#34;
        # if not cruise_id in self.logger_config:
        #   self.logger_config[cruise_id] = {}
        self.logger_config[logger] = config_name

        logging.info(&#39;Signaling update&#39;)
        self.signal_update()

    ############################
    # Methods for feeding data from LoggerServer back into the API
    ############################
    def update_status(self, status):
        &#34;&#34;&#34;Save/register the loggers&#39; retrieved status report with the API.&#34;&#34;&#34;
        self.status.append((time.time(), status))

    ############################
    # Methods for getting status data from API
    ############################

    def get_status(self, since_timestamp=None):
        &#34;&#34;&#34;Retrieve a dict of the most-recent status report from each
        logger. If since_timestamp is specified, retrieve all status reports
        since that time.&#34;&#34;&#34;

        # Start by getting set of loggers for cruise. Store as
        # cruise_id:logger for ease of lookup.
        try:
            logger_set = set([logger
                              for logger in self.get_loggers()])
        except ValueError:
            logger_set = set()

        logging.debug(&#39;logger_set: %s&#39;, logger_set)

        # Step backwards through status messages until we run out of
        # status messages or reach termination condition. If
        # since_timestamp==None, our termination is when we have a status
        # for each of our loggers. If since_timestamp is a number, our
        # termination is when we&#39;ve grabbed all the statuses with a
        # timestamp greater than the specified number.
        status = {}

        status_index = len(self.status) - 1
        logging.debug(&#39;starting at status index %d&#39;, status_index)
        while logger_set and status_index &gt;= 0:
            # record is a dict of &#39;cruise_id:logger&#39; : {fields}
            (timestamp, record) = self.status[status_index]
            logging.debug(&#39;%d: %f: %s&#39;, status_index, timestamp, pprint.pformat(record))

            # If we&#39;ve been given a numeric timestamp and we&#39;ve stepped back
            # in time to or before that timestamp, we&#39;re done - break out.
            if since_timestamp is not None and timestamp &lt;= since_timestamp:
                break

            # Otherwise, examine ids in this record to see if they&#39;re for
            # the cruise in question.
            for id, fields in record.items():
                # If id is cruise_id:logger that we&#39;re interested in, grab it.
                logging.debug(&#39;Is %s in %s?&#39;, id, logger_set)
                if id in logger_set:
                    if timestamp not in status:
                        status[timestamp] = {}
                    status[timestamp][id] = fields

                    # If since_timestamp==None, we only want the latest status
                    # for each logger. So once we&#39;ve found it, remove the id
                    # from the logger_set we&#39;re lookings. We&#39;ll drop out of the
                    # loop when the set is empty.
                    if since_timestamp is None:
                        logger_set.discard(id)
            status_index -= 1

        return status

    ############################
    # Methods for storing/retrieving messages from servers/loggers/etc.
    ############################
    def message_log(self, source, user, log_level, message):
        &#34;&#34;&#34;Timestamp and store the passed message.&#34;&#34;&#34;
        self.server_messages.append((time.time(), source, user,
                                     log_level, message))

    ############################
    def get_message_log(self, source=None, user=None, log_level=sys.maxsize,
                        since_timestamp=None):
        &#34;&#34;&#34;Retrieve log messages from source at or above log_level since
        timestamp. If source is omitted, retrieve from all sources. If
        log_level is omitted, retrieve at all levels. If since_timestamp is
        omitted, only retrieve most recent message.
        &#34;&#34;&#34;
        index = len(self.server_messages) - 1
        messages = []
        while index &gt;= 0:
            message = self.server_messages[index]
            (timestamp, mesg_source, mesg_user,
             mesg_log_level, mesg_message) = message
            # Have we gone back too far? If so, we&#39;re done.
            if since_timestamp is not None and timestamp &lt;= since_timestamp:
                break

            if mesg_log_level &lt; log_level:
                continue
            if user and not mesg_user == user:
                continue
            if source and not mesg_source == source:
                continue

            messages.insert(0, message)

            # Are we only looking for last message, and do we have a message?
            if since_timestamp is None and messages:
                break
            index -= 1

        return messages

    #############################
    # Methods to modify the data store
    ############################
    def load_configuration(self, config):
        &#34;&#34;&#34;Add a complete cruise configuration (id, modes, configs,
        default) to the data store.&#34;&#34;&#34;
        self.config = config
        self.config[&#39;loaded_time&#39;] = datetime.datetime.utcnow()

        # Set cruise into default mode, if one is defined
        if &#39;default_mode&#39; in config:
            active_mode = config[&#39;default_mode&#39;]
            self.set_active_mode(active_mode)

        # Let anyone who&#39;s interested know that we&#39;ve got new configurations.
        self.signal_load()

    ############################
    def delete_configuration(self):
        &#34;&#34;&#34;Remove the specified cruise from the data store.&#34;&#34;&#34;
        self.config = {}
        self.mode = &#34;n/a&#34;
        self.logger_config = {}
        self.callbacks = []
        self.status = []

    ############################
    # Methods for manually constructing/modifying a cruise spec via API
    # def add_cruise(self, cruise_id, start=None, end=None)
    # def add_mode(self, cruise_id, mode)
    # def delete_mode(self, cruise_id, mode)
    # def add_logger(self, cruise_id, logger_id, logger_spec)
    # def delete_logger(self, cruise_id, logger_id)
    # def add_config(self, cruise_id, config, config_spec)
    # def add_config_to_logger(self, cruise_id, config, logger_id)
    # def add_config_to_mode(self, cruise_id, config, logger_id, mode)
    # def delete_config(self, cruise_id, config_id)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="server.server_api.ServerAPI" href="server_api.html#server.server_api.ServerAPI">ServerAPI</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="server.in_memory_server_api.InMemoryServerAPI.delete_configuration"><code class="name flex">
<span>def <span class="ident">delete_configuration</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Remove the specified cruise from the data store.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete_configuration(self):
    &#34;&#34;&#34;Remove the specified cruise from the data store.&#34;&#34;&#34;
    self.config = {}
    self.mode = &#34;n/a&#34;
    self.logger_config = {}
    self.callbacks = []
    self.status = []</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_active_mode"><code class="name flex">
<span>def <span class="ident">get_active_mode</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Return cruise config for specified cruise id.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_active_mode(self):
    &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
    return self.config.get(&#39;active_mode&#39;, None)</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_configuration"><code class="name flex">
<span>def <span class="ident">get_configuration</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Return cruise config for specified cruise id.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_configuration(self):
    &#34;&#34;&#34;Return cruise config for specified cruise id.&#34;&#34;&#34;
    return self.config or None</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_default_mode"><code class="name flex">
<span>def <span class="ident">get_default_mode</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the name of the default mode for the specified cruise
from the data store.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_default_mode(self):
    &#34;&#34;&#34;Get the name of the default mode for the specified cruise
    from the data store.&#34;&#34;&#34;
    return self.config.get(&#39;default_mode&#39;, None)</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_logger"><code class="name flex">
<span>def <span class="ident">get_logger</span></span>(<span>self, logger)</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve the logger spec for the specified logger id.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_logger(self, logger):
    &#34;&#34;&#34;Retrieve the logger spec for the specified logger id.&#34;&#34;&#34;
    loggers = self.get_loggers()
    if logger not in loggers:
        raise ValueError(&#39;No logger &#34;%s&#34; found&#39; %
                         (logger))
    return loggers.get(logger)</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_logger_config"><code class="name flex">
<span>def <span class="ident">get_logger_config</span></span>(<span>self, config_name)</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve the config associated with the specified name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_logger_config(self, config_name):
    &#34;&#34;&#34;Retrieve the config associated with the specified name.&#34;&#34;&#34;
    cruise_config = self.get_configuration()
    if cruise_config is None:
        return {}
    logger_configs = cruise_config.get(&#39;configs&#39;, None)
    if logger_configs is None:
        raise ValueError(&#39;No &#34;config&#34; found&#39;)
    logger_config = logger_configs.get(config_name, None)
    if logger_config is None:
        raise ValueError(&#39;No logger config &#34;%s&#34; in config&#39; % config_name)
    return logger_config</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_logger_config_name"><code class="name flex">
<span>def <span class="ident">get_logger_config_name</span></span>(<span>self, logger_id, mode=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve name of the config associated with the specified logger
in the specified mode. If mode is omitted, retrieve name of logger's
current config.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_logger_config_name(self, logger_id, mode=None):
    &#34;&#34;&#34;Retrieve name of the config associated with the specified logger
    in the specified mode. If mode is omitted, retrieve name of logger&#39;s
    current config.&#34;&#34;&#34;

    if not self.config:
        raise ValueError(&#39;No configuration loaded&#39;)

    # If mode is not specified, get logger&#39;s current config name
    if mode is None:
        config_name = self.logger_config.get(logger_id, None)
        if config_name is None:
            raise ValueError(f&#39;Logger id &#34;{logger_id}&#34; has no mode!&#39;)
        return config_name

    # Otherwise, we return the config_name for the specifed mode
    modes = self.config.get(&#39;modes&#39;)
    mode_configs = modes.get(mode, None)
    if mode_configs is None:
        raise ValueError(&#39;Requested mode %s is not defined (modes are: %s)&#39; %
                         (mode, [m for m in modes]))
    logger_config_name = mode_configs.get(logger_id, None)
    if logger_config_name is None:
        raise ValueError(&#39;Logger %s has no config defined in mode %s&#39; %
                         (logger_id, mode))
    return logger_config_name</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_logger_config_names"><code class="name flex">
<span>def <span class="ident">get_logger_config_names</span></span>(<span>self, logger_id)</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve list of config names that are valid for the specified logger .</p>
<blockquote>
<p>api.get_logger_config_names('NBP1406', 'knud')
["off", "knud-&gt;net", "knud-&gt;net/file", "knud-&gt;net/file/db"]</p>
</blockquote></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_logger_config_names(self, logger_id):
    &#34;&#34;&#34;Retrieve list of config names that are valid for the specified logger .
    &gt; api.get_logger_config_names(&#39;NBP1406&#39;, &#39;knud&#39;)
          [&#34;off&#34;, &#34;knud-&gt;net&#34;, &#34;knud-&gt;net/file&#34;, &#34;knud-&gt;net/file/db&#34;]
    &#34;&#34;&#34;
    logger = self.get_logger(logger_id)
    return logger.get(&#39;configs&#39;, [])</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_logger_configs"><code class="name flex">
<span>def <span class="ident">get_logger_configs</span></span>(<span>self, mode=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Retrieve the configs associated with a cruise id and mode from the
data store. If mode is omitted, retrieve configs associated with
the cruise's current logger configs.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_logger_configs(self, mode=None):
    &#34;&#34;&#34;Retrieve the configs associated with a cruise id and mode from the
    data store. If mode is omitted, retrieve configs associated with
    the cruise&#39;s current logger configs.&#34;&#34;&#34;
    loggers = self.get_loggers()
    if not loggers:
        return None

    output = {}
    for logger in loggers:
        logger_config_name = self.get_logger_config_name(logger, mode)
        output[logger] = self.get_logger_config(logger_config_name)

    return output</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_loggers"><code class="name flex">
<span>def <span class="ident">get_loggers</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Get a dict of
{logger_id:{'configs':[<name_1>,<name_2>,&hellip;], 'active':<name>},&hellip;}
for all loggers.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_loggers(self):
    &#34;&#34;&#34;Get a dict of
        {logger_id:{&#39;configs&#39;:[&lt;name_1&gt;,&lt;name_2&gt;,...], &#39;active&#39;:&lt;name&gt;},...}
    for all loggers.
    &#34;&#34;&#34;
    config = self.get_configuration()
    if not config:
        return {}

    if &#39;loggers&#39; not in config:
        raise ValueError(&#39;No loggers found&#39;)
    logger_configs = config.get(&#39;loggers&#39;, None)
    if not logger_configs:
        raise ValueError(&#39;No logger configurations found&#39;)

    # Fetch and insert the currently active config for each logger
    for logger in logger_configs:
        logger_configs[logger][&#39;active&#39;] = self.get_logger_config_name(logger)
    return logger_configs</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.get_modes"><code class="name flex">
<span>def <span class="ident">get_modes</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Return list of modes defined for given cruise.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_modes(self):
    &#34;&#34;&#34;Return list of modes defined for given cruise.&#34;&#34;&#34;
    return list(self.config.get(&#39;modes&#39;, []))</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.load_configuration"><code class="name flex">
<span>def <span class="ident">load_configuration</span></span>(<span>self, config)</span>
</code></dt>
<dd>
<div class="desc"><p>Add a complete cruise configuration (id, modes, configs,
default) to the data store.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_configuration(self, config):
    &#34;&#34;&#34;Add a complete cruise configuration (id, modes, configs,
    default) to the data store.&#34;&#34;&#34;
    self.config = config
    self.config[&#39;loaded_time&#39;] = datetime.datetime.utcnow()

    # Set cruise into default mode, if one is defined
    if &#39;default_mode&#39; in config:
        active_mode = config[&#39;default_mode&#39;]
        self.set_active_mode(active_mode)

    # Let anyone who&#39;s interested know that we&#39;ve got new configurations.
    self.signal_load()</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.set_active_logger_config"><code class="name flex">
<span>def <span class="ident">set_active_logger_config</span></span>(<span>self, logger, config_name)</span>
</code></dt>
<dd>
<div class="desc"><p>Set specified logger to new config. NOTE: we have no way to check
whether logger is compatible with config, so we rely on whoever is
calling us to have made that determination.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_active_logger_config(self, logger, config_name):
    &#34;&#34;&#34;Set specified logger to new config. NOTE: we have no way to check
    whether logger is compatible with config, so we rely on whoever is
    calling us to have made that determination.&#34;&#34;&#34;
    # if not cruise_id in self.logger_config:
    #   self.logger_config[cruise_id] = {}
    self.logger_config[logger] = config_name

    logging.info(&#39;Signaling update&#39;)
    self.signal_update()</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.set_active_mode"><code class="name flex">
<span>def <span class="ident">set_active_mode</span></span>(<span>self, mode)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the current mode of the specified cruise in the data store.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_active_mode(self, mode):
    &#34;&#34;&#34;Set the current mode of the specified cruise in the data store.&#34;&#34;&#34;
    modes = self.config.get(&#39;modes&#39;, None)
    if not modes:
        raise ValueError(&#39;Config has no modes??&#39;)
    if mode not in modes:
        raise ValueError(&#39;Config has no mode &#34;%s&#34;&#39; % (mode))

    self.config[&#39;active_mode&#39;] = mode

    # Update the stored {logger:config_name} dict to match new mode
    # Here&#39;s a quick one-liner that doesn&#39;t do any checking:
    self.logger_config = modes[mode].copy()

    # Here&#39;s s slow carefully-checked way of setting configs:
    # for logger, config in modes[mode].items():
    #  self.set_logger_config_name(cruise_id, logger, config)

    # Q: At this point should we could signal an update. Or we could
    # count on the API calling signal_update(). Or count on the update
    # being picked up by polling. For now, don&#39;t signal the update.

    logging.info(&#39;Signaling update&#39;)
    self.signal_update()</code></pre>
</details>
</dd>
<dt id="server.in_memory_server_api.InMemoryServerAPI.update_status"><code class="name flex">
<span>def <span class="ident">update_status</span></span>(<span>self, status)</span>
</code></dt>
<dd>
<div class="desc"><p>Save/register the loggers' retrieved status report with the API.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_status(self, status):
    &#34;&#34;&#34;Save/register the loggers&#39; retrieved status report with the API.&#34;&#34;&#34;
    self.status.append((time.time(), status))</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="server.server_api.ServerAPI" href="server_api.html#server.server_api.ServerAPI">ServerAPI</a></b></code>:
<ul class="hlist">
<li><code><a title="server.server_api.ServerAPI.add_logger" href="server_api.html#server.server_api.ServerAPI.add_logger">add_logger</a></code></li>
<li><code><a title="server.server_api.ServerAPI.add_logger_config" href="server_api.html#server.server_api.ServerAPI.add_logger_config">add_logger_config</a></code></li>
<li><code><a title="server.server_api.ServerAPI.add_logger_config_to_logger" href="server_api.html#server.server_api.ServerAPI.add_logger_config_to_logger">add_logger_config_to_logger</a></code></li>
<li><code><a title="server.server_api.ServerAPI.add_logger_config_to_mode" href="server_api.html#server.server_api.ServerAPI.add_logger_config_to_mode">add_logger_config_to_mode</a></code></li>
<li><code><a title="server.server_api.ServerAPI.add_mode" href="server_api.html#server.server_api.ServerAPI.add_mode">add_mode</a></code></li>
<li><code><a title="server.server_api.ServerAPI.delete_logger" href="server_api.html#server.server_api.ServerAPI.delete_logger">delete_logger</a></code></li>
<li><code><a title="server.server_api.ServerAPI.delete_logger_config" href="server_api.html#server.server_api.ServerAPI.delete_logger_config">delete_logger_config</a></code></li>
<li><code><a title="server.server_api.ServerAPI.delete_mode" href="server_api.html#server.server_api.ServerAPI.delete_mode">delete_mode</a></code></li>
<li><code><a title="server.server_api.ServerAPI.get_message_log" href="server_api.html#server.server_api.ServerAPI.get_message_log">get_message_log</a></code></li>
<li><code><a title="server.server_api.ServerAPI.get_status" href="server_api.html#server.server_api.ServerAPI.get_status">get_status</a></code></li>
<li><code><a title="server.server_api.ServerAPI.message_log" href="server_api.html#server.server_api.ServerAPI.message_log">message_log</a></code></li>
<li><code><a title="server.server_api.ServerAPI.on_load" href="server_api.html#server.server_api.ServerAPI.on_load">on_load</a></code></li>
<li><code><a title="server.server_api.ServerAPI.on_quit" href="server_api.html#server.server_api.ServerAPI.on_quit">on_quit</a></code></li>
<li><code><a title="server.server_api.ServerAPI.on_update" href="server_api.html#server.server_api.ServerAPI.on_update">on_update</a></code></li>
<li><code><a title="server.server_api.ServerAPI.quit" href="server_api.html#server.server_api.ServerAPI.quit">quit</a></code></li>
<li><code><a title="server.server_api.ServerAPI.signal_load" href="server_api.html#server.server_api.ServerAPI.signal_load">signal_load</a></code></li>
<li><code><a title="server.server_api.ServerAPI.signal_update" href="server_api.html#server.server_api.ServerAPI.signal_update">signal_update</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="server" href="index.html">server</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="server.in_memory_server_api.InMemoryServerAPI" href="#server.in_memory_server_api.InMemoryServerAPI">InMemoryServerAPI</a></code></h4>
<ul class="">
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.delete_configuration" href="#server.in_memory_server_api.InMemoryServerAPI.delete_configuration">delete_configuration</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_active_mode" href="#server.in_memory_server_api.InMemoryServerAPI.get_active_mode">get_active_mode</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_configuration" href="#server.in_memory_server_api.InMemoryServerAPI.get_configuration">get_configuration</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_default_mode" href="#server.in_memory_server_api.InMemoryServerAPI.get_default_mode">get_default_mode</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_logger" href="#server.in_memory_server_api.InMemoryServerAPI.get_logger">get_logger</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_logger_config" href="#server.in_memory_server_api.InMemoryServerAPI.get_logger_config">get_logger_config</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_logger_config_name" href="#server.in_memory_server_api.InMemoryServerAPI.get_logger_config_name">get_logger_config_name</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_logger_config_names" href="#server.in_memory_server_api.InMemoryServerAPI.get_logger_config_names">get_logger_config_names</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_logger_configs" href="#server.in_memory_server_api.InMemoryServerAPI.get_logger_configs">get_logger_configs</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_loggers" href="#server.in_memory_server_api.InMemoryServerAPI.get_loggers">get_loggers</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.get_modes" href="#server.in_memory_server_api.InMemoryServerAPI.get_modes">get_modes</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.load_configuration" href="#server.in_memory_server_api.InMemoryServerAPI.load_configuration">load_configuration</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.set_active_logger_config" href="#server.in_memory_server_api.InMemoryServerAPI.set_active_logger_config">set_active_logger_config</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.set_active_mode" href="#server.in_memory_server_api.InMemoryServerAPI.set_active_mode">set_active_mode</a></code></li>
<li><code><a title="server.in_memory_server_api.InMemoryServerAPI.update_status" href="#server.in_memory_server_api.InMemoryServerAPI.update_status">update_status</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>