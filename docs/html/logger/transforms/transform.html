<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>logger.transforms.transform API documentation</title>
<meta name="description" content="The biggest thing that the abstract parent class Transform now does is help
with (optional) type checking of the child class&#39; inputs. In the past, an
â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>logger.transforms.transform</code></h1>
</header>
<section id="section-intro">
<p>The biggest thing that the abstract parent class Transform now does is help
with (optional) type checking of the child class' inputs. In the past, an
explicit, but very awkward, form of type checking was used, with child classes
passing the Transform class a list of input_format and output_format specifications.</p>
<p>That is now deprecated in favor of using Python's type hints. Type hints should be
specified for the child class' transform() method. Then the transform() method can
call self.can_process_record(record) to see whether it's one of the input types it
can handle. If not, it can "return self.digest_record(record) to have the parent
class try to deal with it:</p>
<p>E.g.:
def transform(self, record: Union[int, str, float]):
if not self.can_process_record(record):
# inherited from BaseModule()
return self.digest_record(record)
# inherited from BaseModule()
return str(record) + '+'</p>
<p>If no type hints are specified, can_process_record() will return True for all
records <em>except</em> those of type "None" or "list". The logic is that digest_record()
will return a None when given a None, and when given a list, will iteratively
apply the transform to every element of the list and return the resulting list.</p>
<p>Note that the child class can explicitly call super().<strong>init</strong>(quiet=True) or such
to initialize the type checking and set its debugging level. If it is not explicitly
initialized, it will be done implicitly the first time can_process_record() or
digest_record() are called, but with the default of quiet=False.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">#!/usr/bin/env python3
&#34;&#34;&#34;
The biggest thing that the abstract parent class Transform now does is help
with (optional) type checking of the child class&#39; inputs. In the past, an
explicit, but very awkward, form of type checking was used, with child classes
passing the Transform class a list of input_format and output_format specifications.

That is now deprecated in favor of using Python&#39;s type hints. Type hints should be
specified for the child class&#39; transform() method. Then the transform() method can
call self.can_process_record(record) to see whether it&#39;s one of the input types it
can handle. If not, it can &#34;return self.digest_record(record) to have the parent
class try to deal with it:

E.g.:
     def transform(self, record: Union[int, str, float]):
        if not self.can_process_record(record):  # inherited from BaseModule()
            return self.digest_record(record)  # inherited from BaseModule()
         return str(record) + &#39;+&#39;

If no type hints are specified, can_process_record() will return True for all
records *except* those of type &#34;None&#34; or &#34;list&#34;. The logic is that digest_record()
will return a None when given a None, and when given a list, will iteratively
apply the transform to every element of the list and return the resulting list.

Note that the child class can explicitly call super().__init__(quiet=True) or such
to initialize the type checking and set its debugging level. If it is not explicitly
initialized, it will be done implicitly the first time can_process_record() or
digest_record() are called, but with the default of quiet=False.
&#34;&#34;&#34;
import logging
import sys
from os.path import dirname, realpath

sys.path.append(dirname(dirname(dirname(realpath(__file__)))))
from logger.utils.base_module import BaseModule  # noqa: E402


################################################################################
class Transform(BaseModule):
    &#34;&#34;&#34;
    Base class Transform about which we know nothing else.

    Inherits methods for checking whether a received record is in a format
    that the derived class can process, and for splitting a list of input
    records into its elements and calling subclass method() on them.
    &#34;&#34;&#34;
    ############################
    def __init__(self, quiet=False, input_format=None, output_format=None):
        self._initialize_type_hints(quiet=quiet)

        if input_format or output_format:
            logging.warning(f&#39;Code warning: {self.__class__.__name__} use of &#39;
                            f&#39;&#34;input_format&#34; or &#34;output_format&#34; is deprecated. &#39;
                            f&#39;Please see Transform code documentation.&#39;)

    ############################
    def _initialize_type_hints(self, quiet=False):
        &#34;&#34;&#34; Retrieve any type hints for child transform() method so we can
        check whether the type of record we&#39;ve received can be parsed
        natively or not.&#34;&#34;&#34;
        super()._initialize_type_hints(module_type=&#39;transform&#39;,
                                       module_method=self.__class__.transform,
                                       quiet=quiet)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="logger.transforms.transform.Transform"><code class="flex name class">
<span>class <span class="ident">Transform</span></span>
<span>(</span><span>quiet=False, input_format=None, output_format=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Base class Transform about which we know nothing else.</p>
<p>Inherits methods for checking whether a received record is in a format
that the derived class can process, and for splitting a list of input
records into its elements and calling subclass method() on them.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Transform(BaseModule):
    &#34;&#34;&#34;
    Base class Transform about which we know nothing else.

    Inherits methods for checking whether a received record is in a format
    that the derived class can process, and for splitting a list of input
    records into its elements and calling subclass method() on them.
    &#34;&#34;&#34;
    ############################
    def __init__(self, quiet=False, input_format=None, output_format=None):
        self._initialize_type_hints(quiet=quiet)

        if input_format or output_format:
            logging.warning(f&#39;Code warning: {self.__class__.__name__} use of &#39;
                            f&#39;&#34;input_format&#34; or &#34;output_format&#34; is deprecated. &#39;
                            f&#39;Please see Transform code documentation.&#39;)

    ############################
    def _initialize_type_hints(self, quiet=False):
        &#34;&#34;&#34; Retrieve any type hints for child transform() method so we can
        check whether the type of record we&#39;ve received can be parsed
        natively or not.&#34;&#34;&#34;
        super()._initialize_type_hints(module_type=&#39;transform&#39;,
                                       module_method=self.__class__.transform,
                                       quiet=quiet)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="logger.utils.base_module.BaseModule" href="../utils/base_module.html#logger.utils.base_module.BaseModule">BaseModule</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="logger.transforms.count_transform.CountTransform" href="count_transform.html#logger.transforms.count_transform.CountTransform">CountTransform</a></li>
<li><a title="logger.transforms.derived_data_transform.DerivedDataTransform" href="derived_data_transform.html#logger.transforms.derived_data_transform.DerivedDataTransform">DerivedDataTransform</a></li>
<li><a title="logger.transforms.extract_field_transform.ExtractFieldTransform" href="extract_field_transform.html#logger.transforms.extract_field_transform.ExtractFieldTransform">ExtractFieldTransform</a></li>
<li><a title="logger.transforms.format_transform.FormatTransform" href="format_transform.html#logger.transforms.format_transform.FormatTransform">FormatTransform</a></li>
<li><a title="logger.transforms.from_json_transform.FromJSONTransform" href="from_json_transform.html#logger.transforms.from_json_transform.FromJSONTransform">FromJSONTransform</a></li>
<li><a title="logger.transforms.geofence_transform.GeofenceTransform" href="geofence_transform.html#logger.transforms.geofence_transform.GeofenceTransform">GeofenceTransform</a></li>
<li><a title="logger.transforms.max_min_transform.MaxMinTransform" href="max_min_transform.html#logger.transforms.max_min_transform.MaxMinTransform">MaxMinTransform</a></li>
<li><a title="logger.transforms.parse_nmea_transform.ParseNMEATransform" href="parse_nmea_transform.html#logger.transforms.parse_nmea_transform.ParseNMEATransform">ParseNMEATransform</a></li>
<li><a title="logger.transforms.parse_transform.ParseTransform" href="parse_transform.html#logger.transforms.parse_transform.ParseTransform">ParseTransform</a></li>
<li><a title="logger.transforms.prefix_transform.PrefixTransform" href="prefix_transform.html#logger.transforms.prefix_transform.PrefixTransform">PrefixTransform</a></li>
<li><a title="logger.transforms.qc_filter_transform.QCFilterTransform" href="qc_filter_transform.html#logger.transforms.qc_filter_transform.QCFilterTransform">QCFilterTransform</a></li>
<li><a title="logger.transforms.regex_filter_transform.RegexFilterTransform" href="regex_filter_transform.html#logger.transforms.regex_filter_transform.RegexFilterTransform">RegexFilterTransform</a></li>
<li><a title="logger.transforms.regex_replace_transform.RegexReplaceTransform" href="regex_replace_transform.html#logger.transforms.regex_replace_transform.RegexReplaceTransform">RegexReplaceTransform</a></li>
<li><a title="logger.transforms.select_fields_transform.SelectFieldsTransform" href="select_fields_transform.html#logger.transforms.select_fields_transform.SelectFieldsTransform">SelectFieldsTransform</a></li>
<li><a title="logger.transforms.slice_transform.SliceTransform" href="slice_transform.html#logger.transforms.slice_transform.SliceTransform">SliceTransform</a></li>
<li><a title="logger.transforms.split_transform.SplitTransform" href="split_transform.html#logger.transforms.split_transform.SplitTransform">SplitTransform</a></li>
<li><a title="logger.transforms.strip_transform.StripTransform" href="strip_transform.html#logger.transforms.strip_transform.StripTransform">StripTransform</a></li>
<li><a title="logger.transforms.timestamp_transform.TimestampTransform" href="timestamp_transform.html#logger.transforms.timestamp_transform.TimestampTransform">TimestampTransform</a></li>
<li><a title="logger.transforms.to_das_record_transform.ToDASRecordTransform" href="to_das_record_transform.html#logger.transforms.to_das_record_transform.ToDASRecordTransform">ToDASRecordTransform</a></li>
<li><a title="logger.transforms.to_json_transform.ToJSONTransform" href="to_json_transform.html#logger.transforms.to_json_transform.ToJSONTransform">ToJSONTransform</a></li>
<li><a title="logger.transforms.unique_transform.UniqueTransform" href="unique_transform.html#logger.transforms.unique_transform.UniqueTransform">UniqueTransform</a></li>
<li><a title="logger.transforms.value_filter_transform.ValueFilterTransform" href="value_filter_transform.html#logger.transforms.value_filter_transform.ValueFilterTransform">ValueFilterTransform</a></li>
<li><a title="logger.transforms.xml_aggregator_transform.XMLAggregatorTransform" href="xml_aggregator_transform.html#logger.transforms.xml_aggregator_transform.XMLAggregatorTransform">XMLAggregatorTransform</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="logger.utils.base_module.BaseModule" href="../utils/base_module.html#logger.utils.base_module.BaseModule">BaseModule</a></b></code>:
<ul class="hlist">
<li><code><a title="logger.utils.base_module.BaseModule.can_process_record" href="../utils/base_module.html#logger.utils.base_module.BaseModule.can_process_record">can_process_record</a></code></li>
<li><code><a title="logger.utils.base_module.BaseModule.digest_record" href="../utils/base_module.html#logger.utils.base_module.BaseModule.digest_record">digest_record</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="logger.transforms" href="index.html">logger.transforms</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="logger.transforms.transform.Transform" href="#logger.transforms.transform.Transform">Transform</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>